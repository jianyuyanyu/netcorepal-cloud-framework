
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A tactical framework for Domain-Driven Design based on ASP.NET Core.">
      
      
        <meta name="author" content="NetCorePal">
      
      
        <link rel="canonical" href="https://netcorepal.github.io/netcorepal-cloud-framework/zh/code-analysis/code-analysis-tools/">
      
      
        <link rel="prev" href="../code-flow-analysis/">
      
      
        <link rel="next" href="../../../en/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>代码分析工具 - netcorepal-cloud-framework</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="netcorepal-cloud-framework" class="md-header__button md-logo" aria-label="netcorepal-cloud-framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            netcorepal-cloud-framework
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              代码分析工具
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/netcorepal/netcorepal-cloud-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../getting-started/getting-started/" class="md-tabs__link">
          
  
  
  中文文档

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../en/" class="md-tabs__link">
          
  
  
  English Docs

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="netcorepal-cloud-framework" class="md-nav__button md-logo" aria-label="netcorepal-cloud-framework" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    netcorepal-cloud-framework
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/netcorepal/netcorepal-cloud-framework" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    中文文档
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    中文文档
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    入门
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    入门
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    创建项目
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/project-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    项目结构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/development-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    开发流程
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rules-of-ddd/rules-of-ddd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DDD原则
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    关于AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    领域层
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    领域层
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domain/strong-typed-id/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    强类型ID
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domain/domain-entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    领域模型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domain/domain-event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    领域事件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domain/update-time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    更新时间
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domain/soft-delete/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    软删除
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    数据访问
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    数据访问
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/id-generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ID生成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/repository/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    仓储
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/unit-of-work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UnitOfWork
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../transactions/transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    事务处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    事件处理
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    事件处理
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/domain-event-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    领域事件处理器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/integration-event-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    集成事件处理器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/integration-converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    集成事件转换器
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    可观测性
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    可观测性
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../observability/opentelemetry-diagnostics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenTelemetry诊断
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../service-discovery/service-discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    服务发现
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    上下文传递
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    上下文传递
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    上下文
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../context/custom-context-type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    如何自定义上下文类型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
        
          
          <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    并发控制
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    并发控制
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concurrency/row-version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    乐观锁-行版本号
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concurrency/redis-lock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    悲观锁-Redis锁
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concurrency/command-lock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    命令锁
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../env/multi-env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    多环境
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_12" >
        
          
          <label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AspNetCore扩展
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    AspNetCore扩展
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aspnetcore/exception-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    异常处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aspnetcore/response-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据响应
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aspnetcore/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Json序列化
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aspnetcore/jwt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Jwt认证
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../aspnetcore/time-zone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    时区处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_13" >
        
          
          <label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    分库分表
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    分库分表
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharding/data-sharding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分库分表介绍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharding/read-write-separation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    读写分离
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharding/sharding-table/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分表
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharding/sharding-database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    分库
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharding/sharding-tenant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    多租户分库
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_14" checked>
        
          
          <label class="md-nav__link" for="__nav_2_14" id="__nav_2_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    代码分析
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_14_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    代码分析
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code-flow-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    代码流分析
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    代码分析工具
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    代码分析工具
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        ⚠️ 重要说明
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        安装
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用方法
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        命令概览
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        快速上手
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        命令参数
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="命令参数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate 命令
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        输出格式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="输出格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#html" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTML 格式（默认）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#markdown" class="md-nav__link">
    <span class="md-ellipsis">
      
        Markdown 格式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        自动发现机制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="自动发现机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        测试项目识别规则
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        系统要求
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        输出内容
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        与构建过程集成
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="与构建过程集成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#msbuild" class="md-nav__link">
    <span class="md-ellipsis">
      
        MSBuild 集成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        GitHub Actions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        故障排除
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="故障排除">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        常见问题
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        详细输出
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关包
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ef-core" class="md-nav__link">
    <span class="md-ellipsis">
      
        历史记录特性（类似 EF Core 迁移）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="历史记录特性（类似 EF Core 迁移）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        创建快照
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#html_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        生成带历史记录的HTML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        典型工作流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        版本控制集成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        快照命令参考
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="快照命令参考">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        主要命令
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshot-add" class="md-nav__link">
    <span class="md-ellipsis">
      
        snapshot add 命令参数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        查看快照历史
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    English Docs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    English Docs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/getting-started/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create Project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/getting-started/project-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/getting-started/development-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development Process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/rules-of-ddd/rules-of-ddd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DDD Principles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/about-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Domain Layer
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Domain Layer
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/domain/strong-typed-id/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strongly Typed ID
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/domain/domain-entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Domain Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/domain/domain-event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Domain Event
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/domain/update-time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Update Time
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/domain/soft-delete/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Soft Delete
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Data Access
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data Access
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/data/id-generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ID Generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/data/repository/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/data/unit-of-work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UnitOfWork
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/transactions/transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transaction Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Event Handling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Event Handling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/events/domain-event-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Domain Event Handler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/events/integration-event-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration Event Handler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/events/integration-converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integration Converter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Observability
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/observability/opentelemetry-diagnostics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenTelemetry Diagnostics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/service-discovery/service-discovery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Discovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_11" >
        
          
          <label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Context Passing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Context Passing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/context/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/context/custom-context-type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to Customize Context Type
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concurrency Control
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concurrency Control
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/concurrency/row-version/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Optimistic Lock - Row Version
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/concurrency/redis-lock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pessimistic Lock - Redis Lock
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/concurrency/command-lock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Command Lock
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/env/multi-env/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Environment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_14" >
        
          
          <label class="md-nav__link" for="__nav_3_14" id="__nav_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AspNetCore Extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    AspNetCore Extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/aspnetcore/exception-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exception Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/aspnetcore/response-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Response
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/aspnetcore/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Json Serialization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/aspnetcore/jwt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Jwt Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/aspnetcore/time-zone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Zone Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_15" >
        
          
          <label class="md-nav__link" for="__nav_3_15" id="__nav_3_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sharding and Partitioning
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sharding and Partitioning
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/sharding/data-sharding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction to Sharding and Partitioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/sharding/read-write-separation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Read-Write Separation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/sharding/sharding-table/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table Partitioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/sharding/sharding-database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Partitioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/sharding/sharding-tenant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Tenant Database Partitioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" >
        
          
          <label class="md-nav__link" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code Analysis
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code Analysis
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/code-analysis/code-flow-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Flow Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../en/code-analysis/code-analysis-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Analysis Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        ⚠️ 重要说明
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        安装
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用方法
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        命令概览
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        快速上手
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        命令参数
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="命令参数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate 命令
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        使用示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        输出格式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="输出格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#html" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTML 格式（默认）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#markdown" class="md-nav__link">
    <span class="md-ellipsis">
      
        Markdown 格式
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        自动发现机制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="自动发现机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        测试项目识别规则
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        系统要求
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        输出内容
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        与构建过程集成
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="与构建过程集成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#msbuild" class="md-nav__link">
    <span class="md-ellipsis">
      
        MSBuild 集成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        GitHub Actions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        故障排除
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="故障排除">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        常见问题
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        详细输出
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        相关包
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ef-core" class="md-nav__link">
    <span class="md-ellipsis">
      
        历史记录特性（类似 EF Core 迁移）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="历史记录特性（类似 EF Core 迁移）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        创建快照
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#html_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        生成带历史记录的HTML
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        典型工作流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        版本控制集成
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        快照命令参考
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="快照命令参考">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        主要命令
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshot-add" class="md-nav__link">
    <span class="md-ellipsis">
      
        snapshot add 命令参数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        查看快照历史
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="_1">代码分析工具<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>NetCorePal.Extensions.CodeAnalysis.Tools 是基于 NetCorePal 代码分析框架的命令行工具，用于从 .NET 项目生成交互式架构可视化 HTML 文件（基于 .NET 10 单文件执行）。</p>
<h2 id="_2">⚠️ 重要说明<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><strong>工具生效的前提条件</strong>：目标分析的项目/程序集必须引用 <code>NetCorePal.Extensions.CodeAnalysis</code> 包。该包包含了源生成器，能够在编译时自动生成代码分析所需的元数据。</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;PackageReference</span><span class="w"> </span><span class="na">Include=</span><span class="s">&quot;NetCorePal.Extensions.CodeAnalysis&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</code></pre></div>
<p>没有引用此包的项目将无法生成分析结果。</p>
<h2 id="_3">安装<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>作为全局 dotnet 工具安装：</p>
<div class="highlight"><pre><span></span><code>dotnet<span class="w"> </span>tool<span class="w"> </span>install<span class="w"> </span>-g<span class="w"> </span>NetCorePal.Extensions.CodeAnalysis.Tools
</code></pre></div>
<p>或在项目中本地安装：</p>
<div class="highlight"><pre><span></span><code>dotnet<span class="w"> </span>tool<span class="w"> </span>install<span class="w"> </span>NetCorePal.Extensions.CodeAnalysis.Tools
</code></pre></div>
<h2 id="_4">使用方法<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<h3 id="_5">命令概览<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>工具提供两个主要命令：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>generate</code></td>
<td>分析项目/解决方案并生成交互式 HTML 可视化</td>
</tr>
<tr>
<td><code>snapshot</code></td>
<td>管理架构快照以追踪演进历史</td>
</tr>
</tbody>
</table>
<p><strong>快速参考</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 生成架构可视化</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span><span class="o">[</span>选项<span class="o">]</span>

<span class="c1"># 创建架构快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span><span class="o">[</span>选项<span class="o">]</span>
</code></pre></div>
<h3 id="_6">快速上手<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 进入项目目录</span>
<span class="nb">cd</span><span class="w"> </span>MyApp

<span class="c1"># 自动发现并分析当前目录下的解决方案或项目</span>
netcorepal-codeanalysis<span class="w"> </span>generate

<span class="c1"># 指定解决方案文件（.sln/.slnx）</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--solution<span class="w"> </span>MySolution.sln

<span class="c1"># 指定项目文件（可多次指定）</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj

<span class="c1"># 自定义输出文件和标题</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--output<span class="w"> </span>my-architecture.html<span class="w"> </span>--title<span class="w"> </span><span class="s2">&quot;我的架构图&quot;</span>

<span class="c1"># 启用详细输出</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--verbose
</code></pre></div>
<h3 id="_7">命令参数<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>选项</th>
<th>别名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--solution &lt;solution&gt;</code></td>
<td><code>-s</code></td>
<td>文件路径</td>
<td>无</td>
<td>要分析的解决方案文件，支持 <code>.sln</code>/<code>.slnx</code></td>
</tr>
<tr>
<td><code>--project &lt;project&gt;</code></td>
<td><code>-p</code></td>
<td>文件路径（可多次）</td>
<td>无</td>
<td>要分析的项目文件（<code>.csproj</code>），可重复指定多个</td>
</tr>
<tr>
<td><code>--output &lt;output&gt;</code></td>
<td><code>-o</code></td>
<td>文件路径</td>
<td><code>architecture-visualization.html</code></td>
<td>输出的 HTML 文件路径</td>
</tr>
<tr>
<td><code>--format &lt;format&gt;</code></td>
<td><code>-f</code></td>
<td>字符串</td>
<td><code>html</code></td>
<td>输出格式：<code>html</code> 或 <code>markdown</code>（也可使用 <code>md</code>）</td>
</tr>
<tr>
<td><code>--title &lt;title&gt;</code></td>
<td><code>-t</code></td>
<td>字符串</td>
<td><code>架构可视化</code></td>
<td>生成页面/文档的标题</td>
</tr>
<tr>
<td><code>--verbose</code></td>
<td><code>-v</code></td>
<td>开关</td>
<td><code>false</code></td>
<td>启用详细日志输出</td>
</tr>
<tr>
<td><code>--include-tests</code></td>
<td>无</td>
<td>开关</td>
<td><code>false</code></td>
<td>包含测试项目（默认不包含；规则见下文“测试项目识别规则”）</td>
</tr>
</tbody>
</table>
<h4 id="generate"><code>generate</code> 命令<a class="headerlink" href="#generate" title="Permanent link">&para;</a></h4>
<p><strong>输入源选项（按优先级排序）：</strong></p>
<ul>
<li><code>--assembly, -a</code>：指定程序集文件 (.dll)。可多次指定</li>
<li><code>--project, -p</code>：指定项目文件 (.csproj)。可多次指定  </li>
<li><code>--solution, -s</code>：指定解决方案文件 (.sln)。可多次指定</li>
</ul>
<p><strong>构建选项：</strong></p>
<ul>
<li><code>--configuration, -c</code>：构建配置 (Debug/Release)。默认：Debug</li>
</ul>
<p><strong>输出选项：</strong></p>
<ul>
<li><code>--output, -o</code>：输出 HTML 文件路径。默认：code-analysis.html</li>
<li><code>--title, -t</code>：HTML 页面标题。默认：Architecture Visualization</li>
<li><code>--verbose, -v</code>：启用详细输出用于调试</li>
</ul>
<h3 id="_8">使用示例<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>自动发现分析：</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1"># 进入项目目录</span>
<span class="nb">cd</span><span class="w"> </span>MyApp

<span class="c1"># 自动发现并分析当前目录下的解决方案/项目/程序集</span>
netcorepal-codeanalysis<span class="w"> </span>generate

<span class="c1"># 自动发现并指定输出文件</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>-o<span class="w"> </span>my-architecture.html
</code></pre></div>
<ol>
<li><strong>分析特定解决方案：</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>MyApp
<span class="w">   </span>netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--solution<span class="w"> </span>MyApp.sln<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--output<span class="w"> </span>architecture.html<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>--title<span class="w"> </span><span class="s2">&quot;我的应用架构&quot;</span>
</code></pre></div>
<ol>
<li><strong>分析多个项目：</strong></li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>MyApp
<span class="w">   </span>netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>-p<span class="w"> </span>MyApp/MyApp.csproj<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>-p<span class="w"> </span>MyApp.Domain/MyApp.Domain.csproj<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>-o<span class="w"> </span>docs/architecture.html
</code></pre></div>
<h2 id="_9">输出格式<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>工具支持两种输出格式：</p>
<h3 id="html">HTML 格式（默认）<a class="headerlink" href="#html" title="Permanent link">&para;</a></h3>
<p>生成交互式 HTML 可视化页面，包含完整的导航、图表切换和在线编辑功能。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 生成 HTML 格式（默认）</span>
netcorepal-codeanalysis<span class="w"> </span>generate

<span class="c1"># 显式指定 HTML 格式</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--format<span class="w"> </span>html
</code></pre></div>
<h3 id="markdown">Markdown 格式<a class="headerlink" href="#markdown" title="Permanent link">&para;</a></h3>
<p>生成 Markdown 文档，便于大语言模型理解业务模型，包含：
- 概览统计（节点和关系计数）
- 架构元素列表（按类型分组）
- 组件关系详情
- 嵌入式 Mermaid 图表（架构总览图、处理流程图、聚合关系图）
- 版本历史趋势（如果启用历史记录）</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 生成 Markdown 格式</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--format<span class="w"> </span>markdown

<span class="c1"># 或使用简写</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--format<span class="w"> </span>md

<span class="c1"># 自定义输出文件名</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--format<span class="w"> </span>markdown<span class="w"> </span>--output<span class="w"> </span>architecture.md

<span class="c1"># 自定义标题</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--format<span class="w"> </span>md<span class="w"> </span>--title<span class="w"> </span><span class="s2">&quot;订单系统架构分析&quot;</span>
</code></pre></div>
<p><strong>注意</strong>：当使用默认输出文件名时，Markdown 格式会自动将文件扩展名改为 <code>.md</code>。</p>
<h2 id="_10">自动发现机制<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>当未提供 <code>--solution</code> 与 <code>--project</code> 时，工具会在“当前目录（顶层）”自动发现分析目标：</p>
<ul>
<li>优先级：<code>.slnx</code> &gt; <code>.sln</code> &gt; 顶层 <code>*.csproj</code></li>
<li>非递归扫描目录：仅加载当前目录顶层的解决方案/项目文件，随后递归分析其依赖项目</li>
<li>默认排除测试项目：除非显式传入 <code>--include-tests</code></li>
<li>输出可见性：</li>
<li>选择 <code>.slnx/.sln</code> 会打印 <code>Using solution (...): &lt;文件名&gt;</code>；随后打印“Projects to analyze (N)”并列出递归依赖在内的完整项目清单</li>
<li>选择顶层 <code>*.csproj</code> 会直接打印“Projects to analyze (N)”并列出包含递归依赖的完整清单</li>
</ul>
<blockquote>
<p>说明：工具会在隔离的临时工作目录中生成并执行动态 <code>app.cs</code>，并使用 <code>--no-launch-profile</code> 运行以避免继承当前目录的 <code>launchSettings.json</code>/<code>global.json</code> 等环境影响。</p>
</blockquote>
<h3 id="_11">测试项目识别规则<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<ul>
<li>默认行为：测试项目会被排除在分析之外（除非显式传入 <code>--include-tests</code>）</li>
<li>判定规则（满足任一即视为测试项目）：</li>
<li>项目文件所在路径的任一父级目录名为 <code>test</code> 或 <code>tests</code>（不区分大小写）</li>
<li>项目文件（.csproj）中包含 <code>&lt;IsTestProject&gt;true&lt;/IsTestProject&gt;</code>（大小写与空白不敏感）</li>
</ul>
<h2 id="_12">系统要求<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h2>
<ul>
<li>运行环境：.NET 10 SDK（单文件执行依赖 .NET 10 特性）</li>
<li>被分析项目的目标框架：支持 <code>net8.0</code>、<code>net9.0</code> 和 <code>net10.0</code></li>
<li>被分析项目必须引用 <code>NetCorePal.Extensions.CodeAnalysis</code> 包（包含源生成器）</li>
</ul>
<h2 id="_13">输出内容<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<p>工具生成包含以下内容的交互式 HTML 文件：</p>
<ul>
<li><strong>统计信息</strong>：各类型组件的数量统计和分布情况</li>
<li><strong>架构总览图</strong>：系统中所有类型及其关系的完整视图</li>
<li><strong>处理流程图集合</strong>：每个独立业务链路的流程图（如命令处理链路）</li>
<li><strong>聚合关系图集合</strong>：每个聚合根相关的关系图</li>
<li><strong>交互式导航</strong>：左侧树形菜单，支持图表类型切换</li>
<li><strong>Mermaid Live 集成</strong>：每个图表右上角的"View in Mermaid Live"按钮</li>
<li><strong>📊 版本历史功能</strong>（如果存在快照）：</li>
<li><strong>版本选择器</strong>：交互式下拉框切换不同快照版本</li>
<li><strong>历史趋势图表</strong>（2个或更多快照）：<ul>
<li>总体趋势图（总元素和总关系数量）</li>
<li>元素类型趋势图（各类型元素数量变化）</li>
<li>关系类型趋势图（各类型关系数量变化）</li>
</ul>
</li>
<li><strong>交互式图例</strong>：点击显示/隐藏特定指标</li>
<li><strong>Chart.js 可视化</strong>：专业的响应式图表</li>
<li><strong>过滤一致性</strong>：趋势图与统计信息使用相同的过滤规则</li>
</ul>
<h2 id="_14">与构建过程集成<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<h3 id="msbuild">MSBuild 集成<a class="headerlink" href="#msbuild" title="Permanent link">&para;</a></h3>
<p>添加到 <code>.csproj</code> 文件：</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;Target</span><span class="w"> </span><span class="na">Name=</span><span class="s">&quot;GenerateArchitectureVisualization&quot;</span><span class="w"> </span><span class="na">AfterTargets=</span><span class="s">&quot;Build&quot;</span><span class="w"> </span><span class="na">Condition=</span><span class="s">&quot;&#39;$(Configuration)&#39; == &#39;Debug&#39;&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;Exec</span><span class="w"> </span><span class="na">Command=</span><span class="s">&quot;netcorepal-codeanalysis generate --project $(MSBuildProjectFullPath) --output $(OutputPath)architecture-visualization.html&quot;</span><span class="w"> </span>
<span class="w">            </span><span class="na">ContinueOnError=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/Target&gt;</span>
</code></pre></div>
<h3 id="github-actions">GitHub Actions<a class="headerlink" href="#github-actions" title="Permanent link">&para;</a></h3>
<p>添加到工作流程：</p>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate Architecture Visualization</span>
<span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">dotnet tool install -g NetCorePal.Extensions.CodeAnalysis.Tools</span>
<span class="w">    </span><span class="no">cd MyApp</span>
<span class="w">      </span><span class="no">netcorepal-codeanalysis generate \</span>
<span class="w">         </span><span class="no">--output docs/architecture-visualization.html \</span>
<span class="w">         </span><span class="no">--title &quot;MyApp 架构图&quot;</span>
</code></pre></div>
<h2 id="_15">故障排除<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<h3 id="_16">常见问题<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>找不到项目/解决方案</strong>：确保路径正确且文件存在</li>
<li><strong>无分析结果</strong>：确保项目引用了 <code>NetCorePal.Extensions.CodeAnalysis</code> 包并能正常编译</li>
<li><strong>权限错误</strong>：检查输出目录的写入权限</li>
<li><strong>构建失败</strong>：确保项目可以正常构建，检查依赖项</li>
</ol>
<h3 id="_17">详细输出<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>使用 <code>--verbose</code> 标志获取分析过程的详细信息：</p>
<div class="highlight"><pre><span></span><code>netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--verbose
</code></pre></div>
<p>这将显示：</p>
<ul>
<li>发现的文件和项目</li>
<li>递归依赖收集信息</li>
<li>单文件执行过程日志</li>
<li>分析统计信息</li>
<li>文件生成详情</li>
<li>发生问题时的错误详情</li>
</ul>
<h2 id="_18">相关包<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../code-flow-analysis.md"><code>NetCorePal.Extensions.CodeAnalysis</code></a>：核心分析框架</li>
<li>源生成器：用于自动分析的源生成器</li>
</ul>
<h2 id="ef-core">历史记录特性（类似 EF Core 迁移）<a class="headerlink" href="#ef-core" title="Permanent link">&para;</a></h2>
<p>工具提供了版本快照功能，可以追踪架构的演进历史，类似于 Entity Framework Core 的迁移机制。</p>
<p><strong>快照以C#代码文件形式保存</strong>，类似EF Core的迁移快照，便于版本控制和代码审查。</p>
<h3 id="_19">创建快照<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 在当前目录创建项目架构快照（自动发现项目）</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;初始版本&quot;</span>

<span class="c1"># 指定项目文件创建快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;添加订单模块&quot;</span>

<span class="c1"># 指定快照名称（EF Core 风格）</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--name<span class="w"> </span><span class="s2">&quot;AddedPaymentFeature&quot;</span><span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;添加支付功能&quot;</span>
</code></pre></div>
<p><strong>快照文件命名规则</strong>：
- 格式：<code>Snapshot_{Version}_{Name}.cs</code>
- Version：时间戳格式 <code>YYYYMMDDHHmmss</code>
- Name：可选，从 <code>--name</code> 或 <code>--description</code> 派生（sanitized为有效标识符）
- 示例：<code>Snapshot_20260116120000_AddedOrderModule.cs</code></p>
<p><strong>生成的快照类</strong>：
<div class="highlight"><pre><span></span><code><span class="c1">// &lt;auto-generated /&gt;</span>
<span class="c1">// Snapshot created: 2026-01-16 12:00:00</span>
<span class="c1">// Description: 添加订单模块</span>

<span class="k">using</span><span class="w"> </span><span class="nn">NetCorePal.Extensions.CodeAnalysis.Snapshots</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">NetCorePal.Extensions.CodeAnalysis.Attributes</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">CodeAnalysisSnapshots</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">partial</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Snapshot_20260116120000_AddedOrderModule</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">CodeFlowAnalysisSnapshot</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="nf">Snapshot_20260116120000_AddedOrderModule</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">Metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SnapshotMetadata</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;20260116120000&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">Timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;2026-01-16 12:00:00&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">Description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;添加订单模块&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="c1">// ...</span>
<span class="w">            </span><span class="p">};</span>

<span class="w">            </span><span class="n">MetadataAttributes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MetadataAttribute</span><span class="p">[]</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="nf">EntityMetadataAttribute</span><span class="p">(</span><span class="s">&quot;MyApp.Domain.Order&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;OrderItem&quot;</span><span class="w"> </span><span class="p">},</span><span class="w"> </span>
<span class="w">                    </span><span class="k">new</span><span class="w"> </span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;Create&quot;</span><span class="w"> </span><span class="p">}),</span>
<span class="w">                </span><span class="c1">// ... 所有其他元数据</span>
<span class="w">            </span><span class="p">};</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="html_1">生成带历史记录的HTML<a class="headerlink" href="#html_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 默认生成包含历史快照的交互式HTML（自动通过反射发现快照）</span>
netcorepal-codeanalysis<span class="w"> </span>generate

<span class="c1"># 禁用历史记录功能</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--no-history
</code></pre></div>
<p><strong>快照发现机制</strong>（反射based）：
- ✅ 自动从项目程序集中发现所有快照类（继承自 <code>CodeFlowAnalysisSnapshot</code>）
- ✅ 只有代码变化时才会添加新快照（基于 hash 比较）
- ✅ 快照按版本自动排序（最新的在前）
- ✅ 无需手动指定快照目录</p>
<p><strong>生成的HTML功能</strong>：</p>
<ol>
<li><strong>版本选择器</strong>（多个快照时显示）</li>
<li>交互式下拉框，显示快照描述和时间戳</li>
<li>切换版本时自动刷新所有图表和统计</li>
<li>
<p>专业深色主题样式</p>
</li>
<li>
<p><strong>历史趋势图表</strong>（2个或更多快照时显示）</p>
</li>
<li><strong>总体趋势图</strong>：总元素和总关系数量随时间变化</li>
<li><strong>元素类型趋势图</strong>：Aggregate、Command、DomainEvent等各类型数量变化</li>
<li><strong>关系类型趋势图</strong>：CommandToHandler、AggregateToDomainEvent等关系变化</li>
<li><strong>交互式图例</strong>：点击图例项显示/隐藏对应指标</li>
<li><strong>响应式图表</strong>：基于 Chart.js，支持缩放和详细提示</li>
<li><strong>时间轴顺序</strong>：X轴从左到右按时间顺序排列（最早→最新）</li>
<li>
<p><strong>过滤一致性</strong>：使用与统计信息页面相同的过滤规则</p>
</li>
<li>
<p><strong>版本间同步</strong></p>
</li>
<li>所有视图（统计、架构图、流程图）在不同快照间自动同步</li>
<li>保持一致的用户体验</li>
</ol>
<h3 id="_20">典型工作流程<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 初始架构快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;项目初始版本&quot;</span>

<span class="c1"># 2. 开发新功能...</span>

<span class="c1"># 3. 创建新快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;添加支付功能&quot;</span>

<span class="c1"># 4. 生成可视化HTML（默认包含历史，通过反射自动发现所有快照）</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--output<span class="w"> </span>architecture.html

<span class="c1"># 5. 打开生成的HTML文件查看：</span>
<span class="c1">#    - 版本选择器下拉框（切换不同快照）</span>
<span class="c1">#    - 历史趋势图表（2个或更多快照时显示）</span>
<span class="c1">#    - 完整的架构分析和统计信息</span>

<span class="c1"># 6. 提交快照到版本控制（推荐）</span>
git<span class="w"> </span>add<span class="w"> </span>Snapshots/
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add architecture snapshot: 添加支付功能&quot;</span>
</code></pre></div>
<h3 id="_21">版本控制集成<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>快照以 C# 代码文件形式保存，建议将其提交到版本控制系统：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 将快照目录添加到版本控制</span>
git<span class="w"> </span>add<span class="w"> </span>Snapshots/
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add architecture snapshot: [描述]&quot;</span>
</code></pre></div>
<p><strong>优势</strong>：
- ✅ 类型安全，编译时检查
- ✅ 易于代码审查和diff
- ✅ 自然集成到Git工作流
- ✅ 遵循EF Core迁移的最佳实践
- ✅ 支持多人协作（合并冲突可见且易于解决）</p>
<h3 id="_22">快照命令参考<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<h4 id="_23">主要命令<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>netcorepal-codeanalysis snapshot</code></td>
<td>管理分析快照（类似 EF Core 迁移）</td>
</tr>
<tr>
<td><code>netcorepal-codeanalysis snapshot add</code></td>
<td>创建当前分析的新快照</td>
</tr>
</tbody>
</table>
<h4 id="snapshot-add"><code>snapshot add</code> 命令参数<a class="headerlink" href="#snapshot-add" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>选项</th>
<th>别名</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--project &lt;project&gt;</code></td>
<td><code>-p</code></td>
<td>文件路径</td>
<td>自动发现</td>
<td>要分析的项目文件（<code>.csproj</code>）</td>
</tr>
<tr>
<td><code>--name &lt;name&gt;</code></td>
<td><code>-n</code></td>
<td>字符串</td>
<td>无</td>
<td>快照名称（可选，用于文件名，建议使用英文标识符，如：InitialCreate）</td>
</tr>
<tr>
<td><code>--description &lt;description&gt;</code></td>
<td><code>-d</code></td>
<td>字符串</td>
<td>"Snapshot created"</td>
<td>快照描述（可使用中文）</td>
</tr>
<tr>
<td><code>--snapshot-dir &lt;dir&gt;</code></td>
<td>—</td>
<td>目录路径</td>
<td><code>Snapshots</code></td>
<td>快照存储目录</td>
</tr>
<tr>
<td><code>--verbose</code></td>
<td><code>-v</code></td>
<td>开关</td>
<td><code>false</code></td>
<td>启用详细输出</td>
</tr>
<tr>
<td><code>--include-tests</code></td>
<td>—</td>
<td>开关</td>
<td><code>false</code></td>
<td>包含测试项目</td>
</tr>
</tbody>
</table>
<p><strong>命令用法</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 创建带描述的快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;初始版本&quot;</span>

<span class="c1"># 为特定项目创建快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--description<span class="w"> </span><span class="s2">&quot;添加订单模块&quot;</span>

<span class="c1"># 创建带自定义名称和目录的快照</span>
netcorepal-codeanalysis<span class="w"> </span>snapshot<span class="w"> </span>add<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--name<span class="w"> </span><span class="s2">&quot;AddedPaymentFeature&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--description<span class="w"> </span><span class="s2">&quot;添加支付功能&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--snapshot-dir<span class="w"> </span>./MySnapshots
</code></pre></div>
<p><strong>注意</strong>：
- <code>snapshot add</code> 仅支持单个项目文件（不支持解决方案）
- 如果当前目录只有一个 <code>.csproj</code> 文件，可以省略 <code>--project</code>
- 快照文件保存在项目目录中（相对路径相对于项目目录解析）
- 快照以 C# 代码文件形式保存
- <code>--name</code> 参数建议使用英文标识符，<code>--description</code> 可使用中文描述</p>
<h3 id="_24">查看快照历史<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<p>快照历史无需通过CLI命令查看，而是通过生成的HTML可视化文件查看：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 生成包含所有快照历史的HTML</span>
netcorepal-codeanalysis<span class="w"> </span>generate<span class="w"> </span>--project<span class="w"> </span>MyProject.csproj<span class="w"> </span>--output<span class="w"> </span>architecture.html
</code></pre></div>
<p>生成的HTML文件提供了更好的快照查看体验：
- <strong>版本选择器下拉框</strong>：交互式切换不同快照版本
- <strong>历史趋势图表</strong>：可视化展示架构演进（2个或更多快照时显示）
  - 总体趋势图（元素和关系数量变化）
  - 元素类型趋势图（各类型元素数量变化）
  - 关系类型趋势图（各类型关系数量变化）
- <strong>交互式图例</strong>：点击显示/隐藏特定指标
- <strong>完整统计信息</strong>：每个快照的详细元数据和统计数据</p>
<p><strong>快照自动发现</strong>：
- 工具通过反射自动从项目程序集中发现所有快照类
- 无需手动指定快照目录或版本号
- 只有代码实际变化（hash不同）时才会创建新快照</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 NetCorePal
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.instant"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>